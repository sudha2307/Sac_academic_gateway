<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">


    <style>
     

.containeran {
    width: 100%;
    max-width: 800px;
    height: 500px;
    display: flex;
    justify-content: center;
    align-items: stretch;
    gap: 1.25rem;
    transition: all 400ms;
    margin: 50px auto;
}

.card {
    flex: 1;
    height: 100%;
    transition: all 400ms;
    cursor: pointer;
    overflow: hidden;
}

.card img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 400ms;
}

.card:hover img {
    transform: scale(1.1);
}

.containeran:hover .card:not(:hover) {
    filter: grayscale(100%);
}

.containeran:hover .card:hover {
    flex: 3;
    transition: all 400ms;
}

.card:nth-child(odd) {
    transform: translate(0, -20px);
}

.card:nth-child(even) {
    transform: translate(0, 20px);
}

        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background: url('https://t4.ftcdn.net/jpg/02/98/06/69/360_F_298066929_M9qgNMr3OJWo6H2GebpA5zOYxN2CphV1.jpg') no-repeat center center fixed;
            background-size: cover;
            color: #fff;
            display: flex;
            flex-direction: column;
            height: 100vh;
        }

        header {
           
            color: #fff;
            padding: 10px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: relative;
        }

        header h1 {
            margin: 0;
            font-size: 24px;
            text-align: center;
            flex: 1;
            font-family: Cambria, Cochin, Georgia, Times, 'Times New Roman', serif
            
        }

        h2 {
            margin-bottom: 20px;
            font-size: 14px;
            text-align: center;
            font-family: Cambria, Cochin, Georgia, Times, 'Times New Roman', serif
            

        }

        .top-bar {
            display: flex;
            align-items: center;
        }

        .top-bar .date-time {
            margin-right: 20px;
        }

        .top-bar .logout-button {
            background-color: #f44336;
            border: none;
            color: white;
            padding: 10px 15px;
            text-align: center;
            text-decoration: none;
            display: inline-block;
            font-size: 16px;
            border-radius: 5px;
            cursor: pointer;
        }

        .top-bar .logout-button:hover {
            background-color: #d32f2f;
        }
        .menu-bar {
    cursor: pointer;
    position: relative;
}

.menu-bar .menu {
    display: none;
    position: absolute;
    top: 40px;
    left: 0;
    background-color: #333;
    color: #fff;
    border-radius: 5px;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
    padding: 10px;
    
}

.menu-bar .menu a {
    color: #fff;
    text-decoration: none;
    display: block;
    padding: 10px;
}

.menu-bar .menu a:hover {
    background-color: #575757;
}

        .container {
            flex: 1;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
            line-height: 1.2;
            
        }

       /* For larger screens (laptop and PC) */
.profile-card {
    margin: 40px;
    padding: 50px;
    width: 100%;
    max-width: 400px; /* Set a maximum width for larger screens */
    text-align: center;
    flex-direction: column;
    background-color: #222; /* Assuming this is the background color */
    border-radius: 20px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    color: #fff;
}

.profile-card .profile-buttons {
    display: flex;
    justify-content: center;
    gap: 10px; /* Space between buttons */
}

.profile-card img {
    width: 150px;
    height: 150px;
    border-radius: 50%; /* Circle avatar */
    margin: 20px 0;
}

/* Responsive CSS for smaller screens like mobile */
@media (max-width: 600px) {
    .profile-card {
        padding: 20px;
        margin: 20px;
        width: 90%; /* Adjust width to fit mobile screen */
        box-sizing: border-box; /* Ensures padding is inside the width */
    }

    .profile-card img {
        width: 120px;
        height: 120px; /* Smaller avatar for mobile */
        margin: 10px 0; /* Reduce margin for mobile */
    }

    .profile-card h2, .profile-card p, .profile-card .profile-buttons {
        text-align: center;
        margin: 10px 0;
    }

    .profile-card .profile-buttons button {
        width: 100%; /* Make buttons fill the width */
        margin-bottom: 10px;
        padding: 10px;
    }
}

@media (max-width: 420px) {
    .profile-card {
        margin: 10px;
        padding: 15px;
    }

    .profile-card img {
        width: 100px;
        height: 100px; /* Smaller avatar for very small screens */
    }

    .profile-card h2 {
        font-size: 18px; /* Reduce heading size */
    }

    .profile-card p {
        font-size: 14px; /* Reduce text size */
    }

    .profile-card .profile-buttons button {
        padding: 8px;
        font-size: 14px;
    }
}

        .small-clock {
            position: absolute; /* Allows you to position the clock precisely */
    right: 5px; /* Aligns the clock to the right side of the container */
    top: 70px; /* Adjust this value to position the clock vertically */
    font-size: 16px; /* Adjust the font size as needed */
    padding: 5px 10px; /* Adds some padding around the clock */
    background-color: rgba(0, 0, 0, 0.5); /* Optional: adds a semi-transparent background */
    color: #fff; /* Sets the text color to white */
    border-radius: 5px;
    
    /* Small font size for clock digits */
}

.small-clock:before, .small-clock:after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, rgba(255,0,150,0.3), rgba(0,205,255,0.3));
    opacity: 0;
    transition: opacity 0.5s;
}

.small-clock:hover:before, .small-clock:hover:after {
    opacity: 1;
}

#small-hours, #small-minutes, #small-seconds {
    font-size: 10px; /* Adjust to keep the clock small */
    letter-spacing: 1px;
    text-shadow: 0 0 2px rgba(255, 255, 255, 0.2);
}
 /* Modal styles */
 .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0, 0, 0, 0.4);
            justify-content: center;
            align-items: center;
        }

        .modal-content {
            background-color: #fefefe;
            margin: auto;
            padding: 20px;
            border: 1px solid #888;
            width: 80%;
            max-width: 500px;
            border-radius: 10px;
            text-align: center;
        }

        .close {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
        }

        .close:hover,
        .close:focus {
            color: black;
            text-decoration: none;
            cursor: pointer;
        }

        .modal img {
            width: 100px;
            height: 100px;
            border-radius: 50%;
        }

        .sample-avatars {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-top: 10px;
        }

        .sample-avatars img {
            width: 50px;
            height: 50px;
            cursor: pointer;
            border-radius: 50%;
            border: 2px solid transparent;
        }

        .sample-avatars img:hover {
            border-color: #333;
        }

        .modal input[type="file"] {
            margin-top: 10px;
            display: block;
            margin-left: auto;
            margin-right: auto;
        }

        .modal button {
            margin-top: 20px;
            padding: 10px 20px;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }

        .modal button:hover {
            background-color: #45a049;
        }
        .attendance-summary {
    display: flex;
    justify-content: space-around;
    margin: 20px 0;
}

.attendance-box {
    width: 60px;  /* Smaller width */
    height: 30px; /* Smaller height */
    padding: 5px; /* Reduced padding */
    border-radius: 5px;
    text-align: center;
    color: white;
    font-weight: bold;
    font-size: 10px; /* Smaller font size */
    line-height: 1.2; /* Adjust line height for vertical alignment */
}

.present-box {
    background-color: #4CAF50; /* Green */
}

.absent-box {
    background-color: #FF5252; /* Red */
}

.od-box {
    background-color: #FFC107; /* Amber */
}



    </style>
</head>
<body>
    <header>
        <div class="top-bar">
            <div class="menu-bar">
                <span id="menu-icon">â˜°</span>
                <div class="menu" id="menu-items">
                    <a href="{{ url_for('about') }}">About</a>
                    <a href="{{ url_for('attendance') }}">Attendance</a>
                  
                    <a href="{{ url_for('cgpa_calculator') }}">CGPA Calculator</a>
                    <a href="{{ url_for('time_table') }}">Time Table</a>

                    <a href="{{ url_for('index') }}">Check Your Results</a>

                    <a href="{{ url_for('academic_calender') }}">Academic Calender</a>
                </div>
            </div>
        </div>
    
        <h1 style="text-align: center;">Sadakathullah Appa College</h1>
    
        <button style="border-radius: 5px; cursor: pointer;" class="logout-btn" onclick="window.location.href='{{ url_for('logout') }}'" class="primary">
            <i style="font-size: 12px;" class="fas fa-arrow-right-from-bracket"></i> 
        </button>
    </header>
    
    <br>
  
    <div class="small-clock">
        <span id="small-hours"></span> :
        <span id="small-minutes"></span> :
        <span id="small-seconds"></span>
    </div>

    <h2>Student Academic Gateway</h2>
    
    <div class="container">
        <div class="profile-card">
            <div>
                <img src="{{ avatar_url }}" alt="User Avatar" class="profile-avatar">


                <h2>{{ name }}</h2>
                <h3>{{ department }}</h3>
                <p>Register No: {{ username }}</p>
                <p style="margin: 0; padding-top: 0;">Day order : <div class="day-order" id="day-order"></div></p>
                <p style="margin: 0; padding-top: 0;">Attendance Details :</Details></p>
                <div class="attendance-summary">
                    <div class="attendance-box present-box">
                        Present<br>
                        {{ total_present }}
                    </div>
                    <div class="attendance-box absent-box">
                        Absent<br>
                        {{ total_absent }}
                    </div>
                    <div class="attendance-box od-box">
                        OD<br>
                        {{ total_od }}
                    </div>
                </div>
                
                
                <div class="profile-buttons">
                    <button onclick="window.location.href='{{ url_for('profile') }}'">View Profile</button>
                    <button id="editProfileBtn">Edit Profile</button>
                    <button onclick="window.location.href='{{ url_for('logout') }}'" class="primary">Logout</button>
                </div>
            </div>
            
        </div>
    </div>
    <div id="editProfileModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>Edit Profile</h2>
            <img id="currentAvatar" src="{{avatar_url }}" alt="Current Avatar">
            <div class="sample-avatars">
                <img src="{{ url_for('static', filename='avatars/download(1).jpeg') }}" alt="Sample Avatar 1">
                <img src="{{ url_for('static', filename='avatars/download.jpeg') }}" alt="Sample Avatar 2">
                <img src="{{ url_for('static', filename='avatars/images.jpeg') }}" alt="Sample Avatar 3">
            </div>
            <input type="file" id="avatarUpload">
            <button id="saveChangesBtn">Save Changes</button>
        </div>
    </div>
    <div class="containeran">
        <div class="card">
           <a href="{{ url_for('attendance') }}"> <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS6nB8jCVgfM5fE29SnKPA351JvsQIEZH_V9sL3hVuc1fT7GhpXYLjzn9BFmAaBZ6KwtvM&usqp=CAU" alt="Image 1"  ></a>
        </div>
        <div class="card">
            <a href="{{ url_for('time_table') }}"><img src="https://th.bing.com/th/id/OIG2.aDOE2tJM3BAPUHxsgPVM?w=270&h=270&c=6&r=0&o=5&pid=ImgGn" alt="Image 2"></a>
        </div>
        <div class="card">
            <a href="{{ url_for('academic_calender') }}"> <img src="https://th.bing.com/th/id/OIG3.Roro5qM.gWaNzDQNH_Jg?w=270&h=270&c=6&r=0&o=5&pid=ImgGn" alt="Image 3"></a>
        </div>
        <div class="card">
            <a href="{{ url_for('index') }}">  <img src="https://th.bing.com/th/id/OIG1.dkayzfbJR3lkmHGf96bT?w=270&h=270&c=6&r=0&o=5&pid=ImgGn" alt="Image 4"></a>
        </div>
        <div class="card">
            <a href="{{ url_for('cgpa_calculator') }}"> <img src="https://th.bing.com/th/id/OIG2.RHgOKCXY0sQt9voIGWWL?pid=ImgGn" alt="Image 5"></a>
        </div>
    </div>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
    // Show the modal
    const editProfileBtn = document.getElementById('editProfileBtn');
    const modal = document.getElementById('editProfileModal');
    const closeBtn = document.querySelector('.modal .close');

    editProfileBtn.onclick = function() {
        modal.style.display = 'flex';
    }

    closeBtn.onclick = function() {
        modal.style.display = 'none';
    }

    // Hide modal if clicked outside
    window.onclick = function(event) {
        if (event.target == modal) {
            modal.style.display = 'none';
        }
    }

    // Handle sample avatar click
    const sampleAvatars = document.querySelectorAll('.sample-avatars img');
    sampleAvatars.forEach(avatar => {
        avatar.onclick = function() {
            document.getElementById('currentAvatar').src = this.src;
            document.querySelector('#editProfileModal').style.display = 'none';
            // Optionally send an AJAX request to update the avatar in the backend
            // Example: sendUpdateAvatarRequest(this.src);
        }
    });

    // Handle file upload
    document.querySelector('.modal input[type="file"]').onchange = function(event) {
        const file = event.target.files[0];
        if (file) {
            const reader = new FileReader();
            reader.onload = function(e) {
                document.getElementById('currentAvatar').src = e.target.result;
                // Optionally send an AJAX request to update the avatar in the backend
                // Example: sendUpdateAvatarRequest(e.target.result);
            }
            reader.readAsDataURL(file);
        }
    };
});

         function updateClock() {
    const now = new Date();
    const hours = String(now.getHours()).padStart(2, '0');
    const minutes = String(now.getMinutes()).padStart(2, '0');
    const seconds = String(now.getSeconds()).padStart(2, '0');

    document.getElementById('small-hours').textContent = hours;
    document.getElementById('small-minutes').textContent = minutes;
    document.getElementById('small-seconds').textContent = seconds;
}

setInterval(updateClock, 1000);
updateClock(); 
        const dayOrders = {
            '2024-08-01': 'A6',
            '2024-08-02': 'B',
            '2024-08-05': 'C LSM-I',
            '2024-08-06': 'D',
            '2024-08-07': 'E CIA-I-P Begins',
            '2024-08-08': 'F',
            '2024-08-09': 'A7',
            '2024-08-12': 'B',
            '2024-08-13': 'C CIA-I-P Ends',
            '2024-08-14': 'D LSQ-II',
            '2024-08-19': 'E',
            '2024-08-20': 'F',
            '2024-08-21': 'A8',
            '2024-08-22': 'B',
            '2024-08-23': 'C',
            '2024-08-24': 'D',
            
            '2024-08-27': 'E CIA-II Begins',
            '2024-08-28': 'F',
            '2024-08-29': 'A9',
            '2024-08-30': 'B',
            '2024-09-02': 'C',
            '2024-09-03': 'D',
            '2024-09-05': 'F CIA- Ends',
            '2024-09-06': 'A10',
            '2024-09-09': 'B Ph.D. C.W-I',
            '2024-09-10': 'C Ph.D. C.W-I',
            '2024-09-11': 'D Ph.D. C.W-I',
            '2024-09-12': 'E',
            '2024-09-13': 'F LSQ-III',
            '2024-09-16': 'A11',
            '2024-09-17': 'B',
            '2024-09-18': 'C',
            '2024-09-19': 'D',
            '2024-09-20': 'E Ph.D. C.W-II',
            '2024-09-21': 'F Ph.D. C.W-II',
            '2024-09-23': 'A12',
            '2024-09-24': 'B',
            '2024-09-25': 'C Ph.D. C.W-II',
            '2024-09-26': 'D',
            '2024-09-27': 'E',
            '2024-09-28': 'F',
            '2024-09-30': 'A13',
            '2024-10-01': 'B',
            '2024-10-03': 'D',
            '2024-10-04': 'E Ph.D. C.W-III',
            '2024-10-07': 'F Ph.D. C.W-III',
            '2024-10-08': 'A14',
            '2024-10-09': 'B Ph.D. C.W-III',
            '2024-10-10': 'C',
            '2024-10-11': 'D',
            '2024-10-14': 'E',
            '2024-10-15': 'F',
            '2024-10-16': 'A15',
            '2024-10-17': 'B',
            '2024-10-18': 'C',
            '2024-10-21': 'D',
            '2024-10-22': 'E',
            '2024-10-23': 'F',
            '2024-10-24': 'A16',
            '2024-10-25': 'B',
            '2024-10-26': 'C',
            '2024-10-28': 'D',
            '2024-10-29': 'E CIA-III-P Begins',
            '2024-10-30': 'F',
            '2024-10-31': 'A17',
            '2024-11-01': 'B',
            '2024-11-02': 'C',
            '2024-11-04': 'D CIA-III-P Ends',
            '2024-11-05': 'E',
            '2024-11-06': 'F',
            '2024-11-07': 'A18',
            '2024-11-08': 'B',
            '2024-11-11': 'C LSQ-IV',
            '2024-11-12': 'D',
            '2024-11-13': 'E',
            '2024-11-14': 'F',
            '2024-11-15': 'A19',
            '2024-11-16': 'B',
            '2024-11-18': 'C',
            '2024-11-19': 'D',
            '2024-11-20': 'E',
            '2024-11-21': 'F',
            '2024-11-22': 'A20',
            '2024-11-23': 'B',
            '2024-11-25': 'C',
            '2024-11-26': 'D',
            '2024-11-27': 'E',
            '2024-11-28': 'F',
            '2024-11-29': 'A21',
            '2024-11-30': 'B',
            '2024-12-02': 'C LSQ-V',
            '2024-12-03': 'D',
            '2024-12-04': 'E',
            '2024-12-05': 'F',
            '2024-12-06': 'A22',
            '2024-12-07': 'B',
            '2024-12-09': 'C',
            '2024-12-10': 'D',
            '2024-12-11': 'E CIA-IV-P Begins',
            '2024-12-12': 'F',
            '2024-12-13': 'A23',
            '2024-12-14': 'B',
            '2024-12-16': 'C CIA-IV-P Ends',
            '2024-12-17': 'D',
            '2024-12-18': 'E',
            '2024-12-19': 'F',
            '2024-12-20': 'A24',
            '2024-12-21': 'B',
            '2024-12-23': 'C',
            '2024-12-24': 'D',
            '2024-12-26': 'E',
            '2024-12-27': 'F',
            '2024-12-28': 'A25',
            '2024-12-30': 'B',
            '2024-12-31': 'C',
            '2025-01-02': 'D',
            '2025-01-03': 'E',
            '2025-01-04': 'F',
            '2025-01-06': 'A26',
            '2025-01-07': 'B',
            '2025-01-08': 'C',
            '2025-01-09': 'D',
            '2025-01-10': 'E',
            '2025-01-11': 'F',
            '2025-01-13': 'A27',
            '2025-01-14': 'B',
            '2025-01-15': 'C',
            '2025-01-16': 'D',
            '2025-01-17': 'E',
            '2025-01-18': 'F',
            '2025-01-20': 'A28',
            '2025-01-21': 'B',
            '2025-01-22': 'C',
            '2025-01-23': 'D',
            '2025-01-24': 'E',
            '2025-01-25': 'F',
            '2025-01-27': 'A29',
            '2025-01-28': 'B',
            '2025-01-29': 'C',
            '2025-01-30': 'D',
            '2025-01-31': 'E',
            '2025-02-01': 'F',
            '2025-02-03': 'A30',
            '2025-02-04': 'B',
            '2025-02-05': 'C',
            '2025-02-06': 'D',
            '2025-02-07': 'E',
            '2025-02-08': 'F',
            '2025-02-10': 'A31',
            '2025-02-11': 'B',
            '2025-02-12': 'C',
            '2025-02-13': 'D',
            '2025-02-14': 'E',
            '2025-02-15': 'F',
            '2025-02-17': 'A32',
            '2025-02-18': 'B',
            '2025-02-19': 'C',
            '2025-02-20': 'D',
            '2025-02-21': 'E',
            '2025-02-22': 'F',
            '2025-02-24': 'A33',
            '2025-02-25': 'B',
            '2025-02-26': 'C',
            '2025-02-27': 'D',
            '2025-02-28': 'E',
            '2025-03-01': 'F',
            '2025-03-03': 'A34',
            '2025-03-04': 'B',
            '2025-03-05': 'C',
            '2025-03-06': 'D',
            '2025-03-07': 'E',
            '2025-03-08': 'F',
            '2025-03-10': 'A35',
            '2025-03-11': 'B',
            '2025-03-12': 'C',
            '2025-03-13': 'D',
            '2025-03-14': 'E',
            '2025-03-15': 'F',
            '2025-03-17': 'A36',
            '2025-03-18': 'B',
            '2025-03-19': 'C',
            '2025-03-20': 'D',
            '2025-03-21': 'E',
            '2025-03-22': 'F',
            '2025-03-24': 'A37',
            '2025-03-25': 'B',
            '2025-03-26': 'C',
            '2025-03-27': 'D',
            '2025-03-28': 'E',
            '2025-03-29': 'F',
            '2025-04-01': 'A38',
            '2025-04-02': 'B',
            '2025-04-03': 'C',
            '2025-04-04': 'D',
            '2025-04-05': 'E',
            '2025-04-07': 'F',
            '2025-04-08': 'A39',
            '2025-04-09': 'B',
            '2025-04-10': 'C',
            '2025-04-11': 'D',
            '2025-04-12': 'E',
            '2025-04-15': 'F',
            '2025-04-16': 'A40',
            '2025-04-17': 'B',
            '2025-04-18': 'C',
            '2025-04-21': 'D',
            '2025-04-22': 'E',
            '2025-04-23': 'F',
            '2025-04-24': 'A41',
            '2025-04-25': 'B',
            '2025-04-26': 'C',
            '2025-04-28': 'D',
            '2025-04-29': 'E',
            '2025-04-30': 'F',
            '2025-05-01': 'A42',
            '2025-05-02': 'B',
            '2025-05-03': 'C',
            '2025-05-05': 'D',
            '2025-05-06': 'E',
            '2025-05-07': 'F',
            '2025-05-08': 'A43',
            '2025-05-09': 'B',
            '2025-05-10': 'C',
            '2025-05-12': 'D',
            '2025-05-13': 'E',
            '2025-05-14': 'F',
            '2025-05-15': 'A44',
            '2025-05-16': 'B',
            '2025-05-17': 'C',
            '2025-05-19': 'D',
            '2025-05-20': 'E',
            '2025-05-21': 'F',
            '2025-05-22': 'A45',
            '2025-05-23': 'B',
            '2025-05-24': 'C',
            '2025-05-26': 'D',
            '2025-05-27': 'E',
            '2025-05-28': 'F',
            '2025-05-29': 'A46',
            '2025-05-30': 'B',
            '2025-05-31': 'C'
        };

        const today = new Date().toISOString().split('T')[0];
        const dayOrder = dayOrders[today];
        document.getElementById('day-order').textContent = dayOrder || 'No Classes Today';
        // Function to toggle menu visibility
function toggleMenu() {
    var menu = document.getElementById("menu-items");
    if (menu.style.display === "block") {
        menu.style.display = "none";
    } else {
        menu.style.display = "block";
    }
}

// Function to hide the menu
function hideMenu() {
    var menu = document.getElementById("menu-items");
    if (menu.style.display === "block") {
        menu.style.display = "none";
    }
}

// Add click event listener to toggle menu
document.getElementById("menu-icon").addEventListener("click", toggleMenu);

// Add click event listener to document to hide menu when clicking outside
document.addEventListener("click", function(event) {
    var menu = document.getElementById("menu-items");
    var menuIcon = document.getElementById("menu-icon");

    // Check if the click was outside the menu and menu icon
    if (!menu.contains(event.target) && !menuIcon.contains(event.target)) {
        hideMenu();
    }
});


    </script>
</body>
</html>
